@using INSN.Web.ViewModels.SegApp
@inject IHttpContextAccessor HttpContextAccessor

@model SistemasViewModel

@{
    Layout = null;
}

@{
    string NombreUsuario = HttpContextAccessor.HttpContext.Session.GetString(Constantes.NombreUsuario);
}

<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">

    <title>Sistemas</title>

    <!-- Icons -->
    <link rel="icon" href="~/imagenes/logo.ico" type="image/png">
    <!-- END Icons -->
    <!-- Stylesheets -->
    <!-- Codebase framework -->
    <link rel="stylesheet" id="css-main" href="~/css/codebase.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="..." crossorigin="anonymous" />

    <style>
        i {
            color: #0096ad;
        }
    </style>
    <!-- END Stylesheets -->
</head>

<body>
    <div id="page-container" class="sidebar-o sidebar-dark sidebar-mini enable-page-overlay side-scroll page-header-fixed page-header-glass" style="padding-left: 0px;">
        <!-- Main Container -->
        <main id="main-container">
            <!-- header -->
            <div class="bg-image bg-image-bottom" style="background-image: url('/Imagenes/Varios/INSN.jpg');background-position-y: 50%;">
                <div class="bg-primary-dark-op">
                    @if (Model.ListaSistema is not null)
                    {
                        if (Model.ListaSistema.Any())
                        {
                            <div style="color: #FFF; padding-top: 10px; margin-right: 0px;">
                                <div style="float: right;">
                                    <a class="nav-link text-light" asp-controller="Acceso" asp-action="Logout" style="margin-right: 20px;">Cerrar sesión</a>
                                </div>
                                <div style="float: left;">
                                    <h6 style="margin-left: 20px;">Bienvenido(a), @NombreUsuario.ToUpper()</h6>
                                </div>
                                <div style="clear: both;"></div>
                            </div>
                        }
                    }

                    <div class="content-top text-center overflow-hidden">
                        <div>
                            <img src="/Imagenes/logo.png" style="height: 180px;">
                        </div>
                        <br>
                        <div class="pt-1 pb-3">
                            <h3 class="fw-bold text-white mb-2">
                                INSTITUTO NACIONAL DE SALUD DEL NIÑO
                            </h3>
                        </div>
                    </div>
                </div>
            </div>
            <!-- END header -->
            <!-- Page Content -->
            <div class="content">
                <div class="row justify-content-center text-center">
                    <br />
                    <h5 class="fw-bold text-black mb-2">
                        Seleccione el sistema a ingresar
                    </h5>
                    <br /><br />
                    <!-- Row #1 -->
                    @if (Model.ListaSistema is null)
                    {
                        <p>Sin resultados</p>
                    }
                    else if (!Model.ListaSistema.Any())
                    {
                        <p>Sin datos para mostrar</p>
                    }
                    else
                    {
                        @foreach (var item in Model.ListaSistema)
                        {
                            <div class="col-md-6 col-xl-2">
                                <a class="block block-rounded block-bordered block-link-pop text-center p-0" target="@item.target"
                                   href="Redireccionar?p=@item.CodigoSistemaId&url=@item.url&ut=@item.UsarToken">
                                    <div class="block-content block-content-full text-center p-2">
                                        <p class="p-1 m-0">
                                            <i class="fa @item.icono fa-2x opacity-25 m-0"></i>
                                        </p>
                                        <p class="font-w600 m-0">@item.descripcion</p>
                                    </div>
                                </a>
                            </div>
                        }
                    }
                </div>
            </div>
            <!-- END Page Content -->
        </main>
        <!-- END Main Container -->
    </div>
    <!-- END Page Container -->
    <!--
        Codebase JS

        Core libraries and functionality
        webpack is putting everything together at assets/_js/main/app.js
    -->
    <script src="~/js/codebase.app.min.js"></script>
</body>
</html>